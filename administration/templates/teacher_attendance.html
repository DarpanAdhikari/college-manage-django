{% extends "_master.html" %}

{% block title %}
    Teachers Attendance
{% endblock title %}

{% block content %}
<div class="p-2 rounded text-light top-header mb-2">
    <div class="container row">
      <div class="d-flex gap-3">
        <h4 class="mr-5 mt-2">Teachers Attendance</h4>
      </div>
  </div>
</div>
<hr>
<button class="btn btn-info" id="attendance-action">Start Attendance</button>
<div class="row">
  <div class="col-md-12">
    <div id="qr-scanner-container">
      <div id="my-qr-reader" class="shadow-lg rounded"></div>
    </div>
  </div>
</div>
<hr>
<div class="row">
    <div class=" col-lg-12 col-md-12 col-sm-12 ">
      <table class="table table-striped table-hover caption-top">
        <caption class="fs-5 fw-bolder bg-secondary text-info">Currently Taken Attendance</caption>
          <thead class="bg-dark text-white">
            <tr>
              <th scope="col">S.N.</th>
              <th scope="col">Name</th>
              <th scope="col">Username</th>
              <th scope="col">Date</th>
            </tr>
          </thead>
          <tbody id="attendance-table">
          </tbody>
        </table>
    </div>
   
   {% if pre_attendance %}
   <div class="col-md-12 col-lg-12 col-sm-12">
    <table class="table caption-top">
      <caption class="fs-5 fw-bolder bg-secondary text-info">Previously Taken Attendance</caption>
      <thead>
        <tr>
          <th scope="col">S.N.</th>
          <th scope="col">Name</th>
          <th scope="col">Username</th>
          <th scope="col">Date</th>
        </tr>
      </thead>
      <tbody>
        
        {% for attendance in pre_attendance %}   
        <tr>
          <th scope="row">{{ forloop.counter }}</th>
          <td>{{ attendance.teacher.first_name }} {{ attendance.teacher.middle_name|default:'' }} {{ attendance.teacher.last_name }}</td>
          <td>{{ attendance.teacher.user.username }}</td>
          <td>{{ attendance.attendance_date }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
   {% endif %}
    
  </div>
{% endblock content %}
    
    